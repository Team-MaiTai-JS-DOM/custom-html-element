{"version":3,"sources":["../../script/phoenix.js"],"names":["phoenixCanvas","document","getElementById","phoenixContext","getContext","phoenixImg","el","getElementsByTagName","phoenixPossitionX","phoenixPossitiony","flyDirection","speed","onkeydown","event","keyCode","frameIndex","framesCount","gameLoopRate","loopCount","fly","clearRect","width","height","drawImage","window","requestAnimationFrame"],"mappings":";;AAAA,IAAIA,gBAAgBC,SAASC,cAAT,CAAwB,gBAAxB,CAApB;AAAA,IACIC,iBAAiBH,cAAcI,UAAd,CAAyB,IAAzB,CADrB;AAAA,IAEIC,aAAaJ,SAASC,cAAT,CAAwB,gBAAxB,CAFjB;;AAIA,IAAII,KAAKL,SAASM,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAT;AACA,IAAIC,oBAAoB,GAAxB;AACA,IAAIC,oBAAoB,GAAxB;AACA,IAAIC,eAAe,CAAnB;AACA,IAAIC,QAAQ,CAAZ;;AAEAL,GAAGM,SAAH,GAAe,UAASC,KAAT,EAAe;AAC1B,QAAIA,MAAMC,OAAN,KAAkB,EAAtB,EAA0B;AAAE;AACxBN,6BAAqBG,KAArB;AACAD,uBAAe,CAAf;AACH;AACD,QAAIG,MAAMC,OAAN,KAAkB,EAAtB,EAA0B;AAAE;AACxBL,6BAAqBE,KAArB;AACAD,uBAAe,CAAf;AACH;AACD,QAAIG,MAAMC,OAAN,KAAkB,EAAtB,EAA0B;AAAE;AACxBN,6BAAqBG,KAArB;AACAD,uBAAe,CAAf;AACH;AACD,QAAIG,MAAMC,OAAN,KAAkB,EAAtB,EAA0B;AAAE;AACxBL,6BAAqBE,KAArB;AACAD,uBAAe,CAAf;AACH;AACJ,CAjBD;;AAmBA;;AAEA,IAAIK,aAAa,CAAjB;AAAA,IACIC,cAAc,CADlB;;AAGA,IAAIC,eAAe,CAAnB;AAAA,IACIC,YAAY,CADhB;;AAGA,SAASC,GAAT,GAAc;;AAEVhB,mBAAeiB,SAAf,CACIZ,oBAAoB,CADxB,EAEIC,oBAAoB,CAFxB,EAGKJ,WAAWgB,KAAX,GAAmBL,WAApB,GAAmC,EAHvC,EAIIX,WAAWiB,MAAX,GAAoB,EAJxB;;AAOAnB,mBAAeoB,SAAf,CACIlB,UADJ,EAEIU,aAAaV,WAAWgB,KAAxB,GAAgCL,WAFpC,EAGIN,eAAeL,WAAWiB,MAA1B,GAAmCN,WAHvC,EAIIX,WAAWgB,KAAX,GAAmBL,WAJvB,EAKIX,WAAWiB,MAAX,GAAoBN,WALxB,EAMIR,iBANJ,EAOIC,iBAPJ,EAQIJ,WAAWgB,KAAX,GAAmBL,WARvB,EASIX,WAAWiB,MAAX,GAAoBN,WATxB;AAWAE,iBAAa,CAAb;;AAEA,QAAIA,aAAaD,YAAjB,EAA+B;AAC3BC,oBAAY,CAAZ;;AAGAH,sBAAc,CAAd;;AAEA,YAAIA,cAAcC,WAAlB,EAA+B;AAC3BD,yBAAa,CAAb;AACH;AACJ;AACDS,WAAOC,qBAAP,CAA6BN,GAA7B;AACH;;AAEDA","file":"phoenix.js","sourcesContent":["var phoenixCanvas = document.getElementById('phoenix-canvas'),\r\n    phoenixContext = phoenixCanvas.getContext('2d'),\r\n    phoenixImg = document.getElementById('phoenix-sprite');\r\n\r\nvar el = document.getElementsByTagName('body')[0];\r\nvar phoenixPossitionX = 125;\r\nvar phoenixPossitiony = 125;\r\nvar flyDirection = 0;\r\nvar speed = 5\r\n\r\nel.onkeydown = function(event){\r\n    if (event.keyCode === 37) { // flyLeft\r\n        phoenixPossitionX -= speed;\r\n        flyDirection = 1;\r\n    }\r\n    if (event.keyCode === 38) { // flyUp\r\n        phoenixPossitiony -= speed;\r\n        flyDirection = 3;\r\n    }\r\n    if (event.keyCode === 39) { // flyRight\r\n        phoenixPossitionX += speed;\r\n        flyDirection = 2;\r\n    }\r\n    if (event.keyCode === 40) { // flyDown\r\n        phoenixPossitiony += speed;\r\n        flyDirection = 0;\r\n    }\r\n}\r\n\r\n// ctx.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);\r\n\r\nvar frameIndex = 0,\r\n    framesCount = 4;\r\n\r\nvar gameLoopRate = 5,\r\n    loopCount = 0;\r\n\r\nfunction fly(){\r\n\r\n    phoenixContext.clearRect(\r\n        phoenixPossitionX - 5,\r\n        phoenixPossitiony - 5,\r\n        (phoenixImg.width / framesCount) + 20,\r\n        phoenixImg.height + 20\r\n    );\r\n\r\n    phoenixContext.drawImage(\r\n        phoenixImg,\r\n        frameIndex * phoenixImg.width / framesCount,\r\n        flyDirection * phoenixImg.height / framesCount,\r\n        phoenixImg.width / framesCount,\r\n        phoenixImg.height / framesCount,\r\n        phoenixPossitionX,\r\n        phoenixPossitiony,\r\n        phoenixImg.width / framesCount,\r\n        phoenixImg.height / framesCount\r\n    );\r\n    loopCount += 1;\r\n\r\n    if (loopCount >= gameLoopRate) {\r\n        loopCount = 0;\r\n        \r\n\r\n        frameIndex += 1;\r\n\r\n        if (frameIndex >= framesCount) {\r\n            frameIndex = 0;\r\n        }\r\n    }\r\n    window.requestAnimationFrame(fly);\r\n}\r\n\r\nfly();\r\n\r\n"]}